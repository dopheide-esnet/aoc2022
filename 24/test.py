
import pytest
from aoc24 import BuildMap, Blizzards, Move

def test_read_map():
    lines = ['#E######', '#>>.<^<#', '#.<..<<#', '#>v.><>#', '#<^v^^>#', '######.#']
    map = BuildMap(lines)
    assert map == [[['#'], ['E'], ['#'], ['#'], ['#'], ['#'], ['#'], ['#']], [['#'], ['>'], ['>'], ['.'], ['<'], ['^'], ['<'], ['#']], [['#'], ['.'], ['<'], ['.'], ['.'], ['<'], ['<'], ['#']], [['#'], ['>'], ['v'], ['.'], ['>'], ['<'], ['>'], ['#']], [['#'], ['<'], ['^'], ['v'], ['^'], ['^'], ['>'], ['#']], [['#'], ['#'], ['#'], ['#'], ['#'], ['#'], ['.'], ['#']]]

def test_move_blizzards():
    map = [[['#'], 'E', ['#'], ['#'], ['#'], ['#'], ['#'], ['#']], [['#'], ['>'], ['>'], ['.'], ['<'], ['^'], ['<'], ['#']], [['#'], ['.'], ['<'], ['.'], ['.'], ['<'], ['<'], ['#']], [['#'], ['>'], ['v'], ['.'], ['>'], ['<'], ['>'], ['#']], [['#'], ['<'], ['^'], ['v'], ['^'], ['^'], ['>'], ['#']], [['#'], ['#'], ['#'], ['#'], ['#'], ['#'], ['.'], ['#']]]
    map = Blizzards(map)
    assert map == [[['#'], ['.'], ['#'], ['#'], ['#'], ['#'], ['#'], ['#']], [['#'], ['.'], ['>'], ['>', '<', 'v'], ['.'], ['<'], ['.'], ['#']], [['#'], ['<'], ['.'], ['.'], ['<'], ['<'], ['.'], ['#']], [['#'], ['>'], ['>', '^'], ['.'], ['<', '^'], ['>', '^'], ['.'], ['#']], [['#'], ['>'], ['v'], ['.'], ['.'], ['^'], ['<'], ['#']], [['#'], ['#'], ['#'], ['#'], ['#'], ['#'], ['.'], ['#']]]

def test_input():
    map = [[['#'], 'E', ['#'], ['#'], ['#'], ['#'], ['#'], ['#']], [['#'], ['>'], ['>'], ['.'], ['<'], ['^'], ['<'], ['#']], [['#'], ['.'], ['<'], ['.'], ['.'], ['<'], ['<'], ['#']], [['#'], ['>'], ['v'], ['.'], ['>'], ['<'], ['>'], ['#']], [['#'], ['<'], ['^'], ['v'], ['^'], ['^'], ['>'], ['#']], [['#'], ['#'], ['#'], ['#'], ['#'], ['#'], ['.'], ['#']]]
    map = Blizzards(map)
    e = (0,1)
    minimum = Move(e, map,1)
    assert minimum == 18
